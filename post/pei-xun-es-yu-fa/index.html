<html>
  <head>
    <meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>培训-ES语法 | hviker</title>
<meta name="description" content="心游于艺，道不远人。" />
<link rel="shortcut icon" href="https://hviker.github.io/favicon.ico">
<link rel="stylesheet" href="https://hviker.github.io/styles/main.css">

<script src="https://hviker.github.io/media/js/jquery.min.js"></script>
<script src="https://hviker.github.io/media/js/masonry.pkgd.min.js"></script>
<script src="https://hviker.github.io/media/js/aos.js"></script>
<script src="https://hviker.github.io/media/js/pace.min.js"></script>
<script src="https://hviker.github.io/media/js/view-image.min.js"></script>
<script src="https://hviker.github.io/media/js/jquery.magnific-popup.min.js"></script>
<script src="https://hviker.github.io/media/js/functions.js"></script>
    <meta name="referrer" content="never">
    <meta name="description" content="一、概念
ECMAScript（ES）：是一个国际通用性的标准化脚本语言。
JavaScript（JS）：ECMAScript、DOM和BOM组成。
简单地理解为：ECMAScript是JavaScript的语言规范，JavaScript是..." />
    <meta name="keywords" content="培训" />
    <script src="https://hviker.github.io/media/js/waterfall.min.js"></script>
    <script src="https://hviker.github.io/media/js/prism.min.js"></script>
  </head>
  <body>
            <header id="header" class="grid-container">
        <!-- start: .menu-wrapper -->
        <div class="menu-mobile"> 
          <i class="fa fa-reorder"></i>
        </div>
        <div class="menu-wrapper">
          <div class="">
            <div class="logo">
              <a href="https://hviker.github.io"><img src="/media/images/custom-headerLogo.png" alt=""></a>
            </div>
            <!-- start: .main-nav -->

            <nav class="main-nav grid-container grid-parent">
              <ul id="menu-header" class="menu gradient-effect">
                <li class=""><a href="https://hviker.github.io" class="menu">首页</a></li>
                
                  <li class="" >
                    <a href="/" class="menu">
                       
                    </a>
                  </li>
                
                  <li class="" >
                    <a href="/archives" class="menu">
                      归档
                    </a>
                  </li>
                
                  <li class="" >
                    <a href="/tags" class="menu">
                      标签
                    </a>
                  </li>
                
                  <li class="" >
                    <a href="/post/about" class="menu">
                      关于
                    </a>
                  </li>
                
                <li class="search-menu-item hide-on-mobile hide-on-tablet"><a href="#search-lightbox" class="lightbox mfp-inline"><i class="fa fa-search-line"></i></a></li>
              </ul>
            </nav>
            <a href="#search-lightbox" class="lightbox epcl-search-button mfp-inline hide-on-tablet hide-on-desktop"><i class="fa fa-search-line"></i></a>
            <!-- end: .main-nav -->
            <div class="clear"></div>
            <div class="border hide-on-tablet hide-on-mobile"></div>
          </div>    
          <div class="clear"></div>
        </div>
        <!-- end: .menu-wrapper -->
        <div class="clear"></div>
      </header>
      <div class="hide-on-mobile hide-on-tablet hide-on-desktop">
        <div id="search-lightbox" class="grid-container grid-small grid-parent mfp-hide">
          <div class="search-wrapper section">
            <form id="gridea-search-form" data-update="1627444342849" action="/search/index.html" class="search-form" _lpchecked="1">
              <input type="text" name="q" id="s" value="" class="search-field" placeholder="搜点啥..." aria-label="搜点啥..." required="">
              <button type="submit" class="submit" aria-label="Submit">
                <i class="fa fa-search-line"></i>
              </button>
            </form>
          </div>
        </div>
      </div>

      <main id="single" class="main grid-container fullcover no-sidebar aos-init aos-animate" data-aos="fade">

        <div class="center content">
          <div class="featured-image cover" style="background-image: url('https://hviker.github.io/post-images/pei-xun-es-yu-fa.png');">
            <div class="meta top"> 
              <time class="meta-info" style="float:left;" datetime="2021-04-21"><i class="fa fa-calendar"></i><span class="lately">3 个月前</span></time>
              
            </div>
            <div class="info">
              <div class="tags ">
                
                      <a href="https://hviker.github.io/tag/LDwpAxA3l/" class="ctag ctag-0 ctag-LDwpAxA3l" aria-label="">培训</a>
                    
              </div>
              <h1 class="title ularge white bold">培训-ES语法</h1>
            </div>
          </div>
        </div>  

        <div class="epcl-page-wrapper">
          <div class="left-content grid-70 np-mobile">
            <article class="main-article post">
              <section class="post-content">
                <div class="text">
                  <h2 id="一-概念">一、概念</h2>
<p>ECMAScript（ES）：是一个国际通用性的标准化脚本语言。</p>
<p>JavaScript（JS）：ECMAScript、DOM和BOM组成。</p>
<p>简单地理解为：ECMAScript是JavaScript的语言规范，JavaScript是ECMAScript的实现和扩展。</p>
<p>2011 年，ECMAScript 5.1 版发布。也就是ES5('use strict', forEach, map,filter.some...[Array.prototype], JSON.parse, JSON.stringfiy, object.defineProperty)。</p>
<p>2015 年 6 月，ECMAScript 6 正式通过，成为国际标准。</p>
<p>目前已经发展至ES12。</p>
<h2 id="二-为什么要学习es">二、为什么要学习ES?</h2>
<ol>
<li>精简代码，且主流浏览器已支持ES6（如果需要适配IE9-，不建议使用）。</li>
<li>行业内较新的前端框架（vue、react、原生微信小程序、uniapp、taro）都已经使用ES6+语法。</li>
<li>便于阅读框架源码。</li>
</ol>
<h2 id="三-常用es6语法">三、常用ES6语法</h2>
<ol>
<li>
<h3 id="let-const">let、const</h3>
<p>限制在块级作用域({})的变量定义方式。</p>
<p>let是新的var，但是声明的变量只能在当前块级作用域有效。</p>
<p>const声明常量，常量只能赋值一次，一旦声明就不能改变。</p>
<p>与var区别:</p>
<p>1）var声明的变量为全局变量，默认绑定到windows上，全局作用域有效；而let仅在当前声明的块级作用域内有效。</p>
<ol start="2">
<li>
<p>在同一个块级作用域里，变量只能被let声明一次；在不同的块级作用域里，变量可以被let声明多次。var可以在全局作用域内声明多次。</p>
</li>
<li>
<p>let严格遵守代码顺序，不存在变量提升。而var声明的变量，会忽略声明顺序，可以提升变量。</p>
</li>
</ol>
</li>
<li>
<h3 id="模板字符串">模板字符串</h3>
<p>模板字符串为构造字符串提供了语法糖。符号 ``</p>
<pre><code class="language-javascript">let person = 'xiaoming';
console.log(person + '是个好学生')；
// 等价于
console.log(`${person}是个好学生`)；
</code></pre>
</li>
<li>
<h3 id="扩展延展运算符-rest运算符">扩展(延展)运算符、rest运算符</h3>
<p>都是三个点 &quot;...&quot;。</p>
<p><strong>扩展(延展)运算符</strong>：用于把数组或者类数组对象展开形成一系列用逗号隔开的值。</p>
<pre><code class="language-javascript">let getFunc = (x, y) =&gt; {
  console.log(x);
  console.log(y);
}
let arr = [1, 2];
// 普通做法
getFunc(arr[0], arr[1]);  // 打印 1， 2
// 使用扩展运算符
getFunc(...arr)；// 打印1， 2
</code></pre>
<p><strong>使用场景</strong></p>
<p>1、给数组做深拷贝</p>
<pre><code class="language-javascript">let arr1 = [1, 2];
let arr2 = [...arr1];
console.log(arr1 === arr2); // false
</code></pre>
<p>2、合并数组，相当于ES5中的concat</p>
<pre><code class="language-javascript">let arr1 = [1, 2];
let arr2 = [3, 4];
console.log(arr1.concat(arr2)); // 打印 [1, 2, 3, 4]
console.log([...arr1, ...arr2]); // 打印 [1, 2, 3, 4]
</code></pre>
<p>3、字符串转数组</p>
<pre><code class="language-javascript">let str = 'hello';
console.log([...str]); // 打印 ['h', 'e', 'e', 'l', 'o']
</code></pre>
<p><strong>rest运算符</strong>：把逗号隔开的值组合成一个数组 or 对象。</p>
<p><strong>使用场景</strong></p>
<p>1、不定参数传值</p>
<pre><code class="language-javascript">// 不定参数传值 - 数组
let getArrItem = ([...args]) =&gt; {
  console.log(args[0]);
  console.log(args[1]);
  console.log(args[2]);
  console.log(args[3]);
}
getArrItem([1, 2, 3])

// 不定参数传值 - 对象
let getObjItem = ({ ...args }) =&gt; {
  console.log(args.id);
  console.log(args.name);
}
getObjItem({ id: '1', name: 'xiaoming', address: '济南市' })；
</code></pre>
<p>2、与解构赋值关联使用，具体见解构赋值。</p>
</li>
<li>
<h3 id="解构赋值">解构赋值</h3>
<p>允许基于模式匹配的方式进行赋值，这种模式匹配能够支持 数组和对象。</p>
<p>对于数组：</p>
<p>​	1、数组中的数据会自动解析到对应接受该值的变量中，数组的解构赋值要一一对应，否则就是undefined。</p>
<p>​    2、可以直接省略元素，使用','做占位符。</p>
<p>​    3、rest运算符 '...', 可以用于获取数组部分数据。</p>
<pre><code class="language-javascript">// 数组
let [ a, b, c, , d ] = [1, 2, 3, 4, 5]
console.log('a:' + a)
console.log('b:' +b)
console.log('c:' +c)
console.log(d)
</code></pre>
<p>对于对象：</p>
<p>​	1、对象与数组不同，对象不要求一一对应，但是要求变量必须与属性同名(不使用别名的情况),这样才能获取到正确的值。</p>
<p>​    2、使用别名：let { local:address } = { local: '山东' }  可以访问address</p>
<p>​    3、rest运算符 '...'，可以用于获取对象部分数据。</p>
<p>​    4、嵌套对象时与上述相同。</p>
<pre><code class="language-javascript"> // 对象
let { id, name, address: local, ...otherinfo } =  { id: 1 , name: 'xiaoming',address: '济南市', sex: '男', note: ''  };
console.log(id)
console.log(name)
console.log(local)
console.log(otherinfo)
let obj = { id: 2, ...otherinfo }
console.log(obj)

// 嵌套对象
let { ids, otherinfos: { company } } = { ids: 2, otherinfos: { company: 'jxd' } };
console.log(company)
</code></pre>
</li>
<li>
<h3 id="箭头函数">箭头函数</h3>
<p>类似于匿名函数，将原函数的&quot;function&quot;关键字和函数名都去掉，并且用&quot;=&gt;&quot;连接参数列表和函数体。</p>
<pre><code class="language-javascript">function add(x, y) {
	return x + y
}
// 等价于
let add = (x, y) =&gt; {
  return x + y
}
// 等价于
let add = (x, y) =&gt; x + y
console.log(add(1,2));
</code></pre>
<p>注意点：</p>
<ol>
<li>函数的参数只有一个时，可以省略 ()。</li>
</ol>
<p>​	函数体内只有一条return语句,且返回非对象时，可以省略 return关键字和{}；当返回对象时，需要加()，避免和函数体的{...}有语法冲突。</p>
<pre><code class="language-javascript">// 返回非对象
let getNum = （x）=&gt; { return x };
// 等价于
let getNum = x =&gt; x;

// 返回对象
let getObj = name =&gt; ({ name: name });
console.log(getObj('xiaoming'));
</code></pre>
<p>2）箭头函数的this指向就是上下文里对象this的指向，如果没有上下文对象，this就指向window。不受call、apply、bind等方法的影响。</p>
<pre><code class="language-javascript">// 关于this指向
let obj = {
  id: '1',
  age: this, // 指向window
  name: () =&gt; { 
    console.log(this); // 指向window
    setTimeout(() =&gt; {
      console.log(this);// 指向window
    })},
  getFunc: function() {
    console.log(this); // 指向obj
    setTimeout(() =&gt; {
      console.log(this); // 指向obj
    }) 
  }
}
obj.age;
obj.name();
obj.getFunc();
</code></pre>
</li>
<li>
<h3 id="类class">类(class)</h3>
<p>​	类（class）是在基于原型的面向对象模式上简单包装的语法糖。拥有一个 单一且方便的声明形式将更易于使用，并且 鼓励混合使用。类（class）支持基于原型的继承、super 调用、 实例和静态方法以及构造函数。</p>
<p><strong>等价于构造函数。</strong></p>
<p><strong>1、基本格式</strong></p>
<p>​	1) class后面紧跟方法名，方法名需要大写。</p>
<p>​	2) 创建实例时，使用new Xxx()的格式。</p>
<p>​	3) 都存在constructor,即构造函数。</p>
<pre><code class="language-javascript">// 声明类
class Person {
  constructor(name) {
    this.name = name;
  }
  getPersonInfo() {
    console.log(this.name)
  }
}

// 创建实例
let person = new Person('xiaoming');
person.getPersonInfo();
</code></pre>
<p><strong>2、继承</strong></p>
<p>​	1) 使用关键字 extends。</p>
<p>​	2) constructor中必须使用super(),用于继承父元素的属性和方法。</p>
<pre><code class="language-javascript">// 声明类
class BoyPerson extends Person {
  constructor(name, sex) {
    super(name);
    this.sex = sex;
  }

  getBoyPersonInfo() {
    console.log(`姓名: ${this.name}, 性别: ${this.sex}`);
  }
}

// 创建实例
let boy = new BoyPerson('xiaoli', '男')
boy.getBoyPersonInfo();
</code></pre>
<p><strong>3、实例属性</strong></p>
<p>​	1) 定义在constructor()方法中的属性都是对象的属性，可以用this获取。</p>
<p>​	2) 实例属性也可以定义在类顶层的，定义格式 _xxx， 通过this获取。</p>
<p><strong>4、静态属性和方法</strong></p>
<p>​	所有在类中定义的属性和方法，都会被实例继承。如果在属性和方法前面添加static，则该属性和方法不会被实例继承，而是直接通过类来调用，这就是静态方法。</p>
<p>​	1) 使用关键字 static。</p>
<p>​	2) 不能通过实例调用，只能通过类调用，即构造函数.方法名。</p>
<p><strong>5、私有属性和方法</strong></p>
<pre><code> 只能在类的内部访问的属性和方法，外部不能调用。
</code></pre>
<p>​	写法： 在属性或者方法前面加 #。</p>
<p>​	内部访问:需要 this.#属性名|方法名。</p>
<pre><code class="language-javascript">class BoyPerson extends Person {
  _local = '济南市';
  #age = 10;
  constructor(name, sex) {
    super(name);
    this.sex = sex;
  }

  getBoyPersonInfo() {
    console.log(`姓名: ${this.name}, 性别: ${this.sex}, 地址: ${this._local}, 年龄${this.#age}`);
  }
}

let boy = new BoyPerson('xiaoli', '男')
boy.getBoyPersonInfo();
console.log(boy._local); // 打印 济南市
console.log(boy.#age); // 报错
</code></pre>
<p>PS:</p>
<p>​	1）类声明和函数声明一个重要的区别，类声明不会在作用域内导致变量提升。所以在使用类的时候先声明后创建实例。</p>
<p>​	2)  constructor中定义的内容都会绑定到对象的属性上，类的所有方法会定义prototype上，例如constructor()、getBoyPersonInfo() 会绑定到构造函数的prototype上。</p>
<p>​	3) 添加方法确实可以通过  Person.prototype.add = () { return 1 } || person.<strong>proto</strong>.add = () =&gt; { return 1 }。但是不推荐，会影响其他实例。</p>
<pre><code class="language-javascript">class Person {
	static comeFrom = 'china'
  constructor(name) {
    this.name = name;
  }
  getPersonInfo() {
    console.log(this.name)
  }
}

let person = new Person('xiaoming');
let person2 = new Person('xiaoli');
person.__proto__.getName = () =&gt; { console.log(this.name) };
</code></pre>
</li>
<li>
<h3 id="promise">Promise</h3>
<p>​	构造函数，异步操作容器，里面存在一个异步操作。通过Promise可以获取该异步操作可能发生的结果，比如pending, fulfilled, rejected。</p>
<p><strong>1、Promise对象特点</strong></p>
<p>​	1）提供三种状态，pending(进行中)、fulfilled(已成功)、rejected(已失败)，只有异步操作的结果可以决定当前是哪一种状态，任何其他操作都无法改变这个操作。</p>
<p>​	2）状态变化有两种，从pending -&gt; fulfilled || pending -&gt; rejected。</p>
<p><strong>2、作用</strong></p>
<p>​	1) 异步操作以同步的写法表现出来,避免回调函数层层嵌套 .then().catch().finally()。</p>
<p>​	2) Promise对象提供了许多API，使异步函数处理更加容易。</p>
<p><strong>3、基本用法</strong></p>
<p>​	1) 创建promise实例。Promise构造函数接收一个函数作为参数，该函数中有两个参数，分别是resolve，reject。</p>
<p>​	2) 调用Promise提供方法。Promise对象生成后，可以用then() 指定resolve(必选)和reject(可选)状态的回调函数。</p>
<p>​	3) 如果resolve()带有参数，该参数会被传递给回调函数。如果reject() 带有参数，该参数一般是Error对象的实例，也会被传递给回调函数。</p>
<pre><code class="language-javascript">const promise = new Promise((resolve, reject) =&gt; {
    // todo 这里处理逻辑
    if(success) {
        // 成功时执行
        resolve(value)
    } else {
        // 失败时执行
        reject(value)
    }
})
promise.then(value =&gt; {

}, err =&gt; {

})
</code></pre>
<p><strong>4、Promise实例提供的方法</strong></p>
<p>​	1) Promise.all(iterator),其中iterator必须是个可迭代的对象，比如Array 或者 String，返回一个Promise实例</p>
<p>​    传入参数中任意一个primise返回失败，则整体返回失败，返回的错误信息为第一个失败的promise结果。</p>
<p>​	2) Promise.race(iterator)。返回最先发生改变的实例。</p>
<p>​	3) Promise.resolve(value): 返回一个以给定的值解析后的Promise对象。</p>
<p>​	4) Promise.reject(reason): 返回一个含有reason的状态为rejected的Promise对象。</p>
<p>​	5) Promise.prototype.then(): 为Promise实例状态发生变化时添加回调函数，接受两个参数，fulfilled状态时的回调函数，rejected状态时的回到函数。并且该方法返回一个新的Promise对象。</p>
<p>​	6) Promise.prototype.finally(): 返回一个Promise, 在上一轮promise运行后，无论状态是fullfilled还是rejected，都会执行finally中指定的回调函数。</p>
<p>​	7) Promise.prototype.catch(): 返回一个Promise，并且处理拒绝情况，与then中的err相同。这里推荐使用catch方法，不要在then() 中定义rejected状态的回调函数，这是因为catch还可以捕捉在then()方法执行中存在的错误。</p>
<pre><code class="language-javascript">getPreApprovalList(params) {
    return new Promise((resolve, reject) =&gt; {
        OtherContractService.getPreApprovalList(params).then(data =&gt; {
            (data.list || []).forEach(i =&gt; this.$set(i, 'deleteLoading', false))
                resolve(data)
            }).catch(e =&gt; {
                reject(e)
        })
    })
}
</code></pre>
<p>promise具有then(),返回一个新的promise实例，因此可以采用链式写法，即then方法后面再调用then。</p>
<p><strong>5、关于Promise执行顺序</strong></p>
<pre><code class="language-javascript">// 执行顺序
function timeOut(ms) {
  return new Promise((resolve, reject) =&gt; {
    console.log(4)
    return setTimeout(resolve, ms, '5' )
  })
}

timeOut(100).then(val =&gt; { console.log(val) }, err =&gt; { console.log('失败') })
 
let promise = new Promise((resolve, reject) =&gt; {
  resolve(2); // 这里比较下加return的情况
  console.log(1);
})

promise.then(val =&gt; { console.log(val) })
console.log(3)
</code></pre>
<p>解析：</p>
<p>1、创建Promise实例时，优先执行Promise实例中的console。</p>
<p>2、执行同步console。</p>
<p>3、从上往下执行不含延时的Promise的resolve or reject。</p>
<p>4、从上往下执行含有延时的Promise的resolve or reject。</p>
<p>timeOut是个含有返回Promise对象的方法，当执行timeOut(100)时，会生成Promise实例，这里面的4优先打印，then()暂缓；</p>
<p>let promise = new Promise({...}),这时候Promise对象已经创建，所以接下来打印1，then()暂缓；</p>
<p>打印同步的3；</p>
<p>从上往下数，第二个promise没有延时，优先打印2。</p>
<p>最后打印5。</p>
<p><strong>6、实现异步加载图片</strong></p>
<pre><code class="language-javascript">let url = &quot;图片地址&quot;;
function loadImageAsync(url) {
  return new Promise((resolve, reject) =&gt; {
    var image = new Image();
    image.src = url;
    image.onload = function() {
      resolve(image);
    }
    image.onerror = function() {
      reject('加载失败')
    }
  })
}

loadImageAsync(url).then(val =&gt; {})
</code></pre>
<p><strong>7、总结</strong></p>
<p>​	1) 什么是Promise?</p>
<p>​	Promise() 其实是个构造函数，用户可以根据操作状态给与处理。Promise()的prototype提供了多个api，比如all()、race()、then()、catch()、finally()，给实例化的promise对象提供了操作、执行、异常捕捉、后续执行这些方法。</p>
<p>​	2）与普通回调函数的区别。</p>
<p>​	在执行多项异步操作时，普通的回调函数需要在回调中嵌套回调，代码比较臃肿，容易出现回调地狱。通过promise，可以在then()中resolve返回下一个异步操作，then()返回的是一个新的promise对象，原型对象上存在then(),可以链式调用。</p>
</li>
<li>
<h3 id="数据结构-set">数据结构 Set</h3>
<p>构造函数，类似于数组，但是成员的值都是唯一的，可以用于去重（仅适用于普通数组，不适用于对象数组）。</p>
<p>数组去重方法：[ ...new Set(arr) ]</p>
<p><strong>1）Set的属性及方法</strong></p>
<p>​	constructor: 构造函数，返回Set();</p>
<p>​    size: 返回实例的成员总数</p>
<p>​    add(val): 添加某个值，返回Set结构本身</p>
<p>​    delete(val): 删除某个值，返回boolean;</p>
<p>​    has(val): 查找是否含有某个值，返回boolean;</p>
<p>​    clear(): 清除所有指，没有返回值。</p>
<p><strong>2) Set遍历操作</strong></p>
<p>​	keys(): 返回键名的遍历器</p>
<p>​    values(): 返回键值的遍历器</p>
<p>​    entries(): 返回键值对的遍历器</p>
<p>​    forEach((value, keys) =&gt; {})</p>
</li>
<li>
<h3 id="数据结构map">数据结构Map</h3>
<p>构造函数，类似于Object，{ key: value }的形式，但是和Object有区别</p>
<p>Object:只能用字符串当key， &quot;字符串 -&gt; 值&quot;</p>
<p>Map: 键的范围不限于字符串，各种类型的值（包括对象）都可以当做key，&quot;值 -&gt; 值&quot;；</p>
<pre><code class="language-javascript">const map = new Map([['name', 'xiaoming'], ['title', 'author']])
</code></pre>
<p><strong>1）Map的属性和方法</strong></p>
<p>​	size: 返回Map结构的成员总数</p>
<p>​    set(key, value): 设置键名为key的对应键值为value，然后返回整个Map。</p>
<p>​    get(key): 读取键值为key的键值</p>
<p>​    has(key): 判断某个键是否在当前的Map对象中，返回Boolean。</p>
<p>​    delete(key): 删除某个值，返回boolean</p>
<p>​    clear(): 清空Map对象</p>
</li>
</ol>
<h2 id="四-es7~es12部分常用语法">四、ES7~ES12部分常用语法</h2>
<ol>
<li>
<h3 id="async-await">async 、await</h3>
<p>异步终极解决方案。以同步的写法完成异步操作流程，避免异步嵌套。</p>
<p>async: 表示函数里有异步操作。</p>
<p>await: 表示跟随在后面的表达式需要等待结果， await 后面跟着Promise对象  。</p>
<p>当函数执行时一旦遇到await就返回，等到触发的异步操作完成，再接着执行函数体后面的语句。</p>
<pre><code class="language-javascript">let timeOut = ms =&gt; {
  return new Promise((resolve, reject) =&gt; {
 return setTimeout(resolve, ms, 'timeOut')
  })
}
// 打印顺序 timeOut, 1
   let asyncMethod = async () =&gt; {
     try {
       let timeConsole = await timeOut(2000);
       console.log(timeConsole); 
       console.log(1)
     } catch(e) {
       console.log(e)
     }
   }

   asyncMethod();
</code></pre>
<p>注意点：</p>
<p>await 后面的Promise对象，运行有可能返回reject，最好把await放在try...catch里,这样能够捕捉异常。</p>
<p>await只能用在async函数中，如果是普通函数就会报错。</p>
<p>可以使用 promise.all 方法发起多个请求。</p>
<pre><code class="language-javascript"></code></pre>
</li>
</ol>
<p>async function dbFuc(db) {<br>
let docs = [{}, {}, {}];<br>
let promises = docs.map((doc) =&gt; db.post(doc));</p>
<pre><code> let results = await Promise.all(promises);
 console.log(results);
</code></pre>
<p>}</p>
<p>// 或者使用下面的写法 ES9 异步迭代 await可以和for...of循环一起使用，以串行的方式运行异步操作<br>
async function dbFuc(db) {<br>
let docs = [{}, {}, {}];<br>
let promises = docs.map((doc) =&gt; db.post(doc));</p>
<pre><code> let results = [];
 for (let promise of promises) {
   results.push(await promise);
 }
 console.log(results);
</code></pre>
<p>}</p>
<pre><code>
当出现多个Promise

```javascript
let timeOut1 = ms =&gt; {
  return new Promise((resolve, reject) =&gt; {
    return setTimeout(resolve, ms, 'timeOut1')
  })
}

let timeOut2 = ms =&gt; {
  return new Promise((resolve, reject) =&gt; {
    return setTimeout(resolve, ms, 'timeOut2')
  })
}

let timeOut3 = ms =&gt; {
  return new Promise((resolve, reject) =&gt; {
    return setTimeout(resolve, ms, 'timeOut3')
  })
}

let funcArr = [ timeOut1(1000), timeOut2(2000), timeOut3(3000) ]
async function promiseFunc() {
  console.time();
  let result = await Promise.all(funcArr);
  console.log(result);
  console.timeEnd();
  console.log('结束')
}

promiseFunc();
</code></pre>
<ol start="2">
<li>
<h3 id="arrayprototypeincludes">Array.prototype.includes</h3>
<p>返回Boolean，表示某个数组是否包含指定值。</p>
<pre><code class="language-javascript">let arr = [1, 2, 3];
if(arr.includes(1)) {
	console.log('包含')
}
</code></pre>
</li>
<li>
<h3 id="stringtrimstart和stringtrimend">String.trimStart()和String.trimEnd()</h3>
<p>去除字符串首尾空白字符。</p>
</li>
<li>
<h3 id="空值处理">空值处理 ??</h3>
<p>表达式在 ?? 的左侧 运算符求值为undefined或null，返回其右侧。</p>
</li>
<li>
<h3 id="optional-chaining可选链">Optional chaining（可选链）</h3>
<p>?.用户检测不确定的中间节点</p>
<pre><code class="language-javascript"> let person = {};
 // let childName = person.children.name; // 报错  Cannot read property 'name' of undefined
 let childName = person.children ?. name; // undefined
 console.log(childName); 
</code></pre>
</li>
</ol>
<h2 id="五-参考">五、参考</h2>
<p><strong>Babel官网中文文档</strong>：https://www.babeljs.cn/docs/learn</p>
<p><strong>Babel官网中文文档</strong>：https://www.liaoxuefeng.com/wiki/1022910821149312</p>
<p><strong>阿西河ECMAScript 文档说明</strong>：https://www.axihe.com/api/js-es/api/api.html</p>
<h2 id="六-补充">六、补充</h2>
<ol>
<li>
<h3 id="原型-原型链关系">原型、原型链关系</h3>
<img src="https://hviker.github.io/post-images/1619014980792.png" alt="" loading="lazy"></li>
</ol>

                </div>
                <div class="clear"></div>
              </section>
            </article>
            <div class="clear"></div>

            <section class="related section">
              
              <article class="prev grid-50 tablet-grid-50 grid-parent">
                <div class="thumb cover lazy loaded" style="background-image: url('https://hviker.github.io/media/images/j1qkahhB3.jpg');"></div>
                 <a href="https://hviker.github.io/post/css-she-zhi-gun-dong-tiao-yang-shi-jian-rong-ie/" class="full-link"></a>
                 <div class="info">
                  <time datetime="2021-04-26">2021-04-26</time>
                  <h4 class="title white no-margin">CSS设置滚动条样式(兼容IE)</h4>
                </div>
                 <span class="epcl-button red">
                  <img src="https://hviker.github.io/media/images/left-arrow.svg" width="15" alt="Left Arrow">
                </span>
                <div class="overlay"></div>
              </article>
              
              
              <article class="next grid-50 tablet-grid-50 grid-parent">
                <div class="thumb cover lazy loaded" style="background-image: url('https://hviker.github.io/media/images/LDwpAxA3l.jpg');"></div>
                 <a href="https://hviker.github.io/post/pei-xun-git-ti-jiao-liu-cheng/" class="full-link"></a>
                 <div class="info">
                  <time datetime="2021-04-14">2021-04-14</time>
                  <h4 class="title white no-margin">培训-Git提交流程</h4>
                </div>
                 <span class="epcl-button red">
                  <img src="https://hviker.github.io/media/images/right-arrow.svg" width="15" alt="Left Arrow">
                </span>
                <div class="overlay"></div>
              </article>
              

                <div class="clear"></div>
            </section>

              <div class="clear"></div>
              
            
              <div id="comments" class="bg-white hosted ">
                
                  <link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css">
<script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script>

<div id="gitalk-container"></div>
<div class="clear"></div>

<script>
  var gitalk = new Gitalk({
    clientID: 'f68ae8f71a2215243ce9',
    clientSecret: '4425adb0890c433816522b291391cf173556ee5f',
    repo: 'hviker.github.io',
    owner: 'hviker',
    admin: ['hviker'],
    id: (location.pathname).substring(0, 49),      // Ensure uniqueness and length less than 50
    distractionFreeMode: false  // Facebook-like distraction free mode
  })

  gitalk.render('gitalk-container')
</script>

                
                
              </div>
            

            </div>
          </div>
      </main>

          <footer id="footer" class="grid-container">
        <div class="widgets row gradient-effect">
            <div class="default-sidebar border-effect">
              <div class="grid-33 tablet-grid-50 mobile-grid-100">
                <section id="tag_cloud-2" class="widget widget_epcl_posts_thumbs underline-effect">
                  <h4 class="widget-title title white bordered">最新文章</h4>
                  
                  
                  <article class="item post-0 post type-post status-publish format-standard has-post-thumbnail hentry">
                    <a href="https://hviker.github.io/post/layui-biao-ge-bian-ji-zi-ding-yi-xiao-yan-gui-ze/" class="thumb hover-effect">
                      <span class="fullimage cover" style="display:block;border-radius:50%;background-image: url('/media/images/gridea.jpg');"></span>
                    </a>
                    <div class="info gradient-effect">
                      <time datetime="2021-07-27">2021-07-27</time>
                      <h4 class="title usmall">
                        <a href="https://hviker.github.io/post/layui-biao-ge-bian-ji-zi-ding-yi-xiao-yan-gui-ze/">layui 代码仓</a>
                      </h4>
                    </div>
                    <div class="clear"></div>
                  </article>
                  
                  
                  
                  <article class="item post-1 post type-post status-publish format-standard has-post-thumbnail hentry">
                    <a href="https://hviker.github.io/post/dm8-an-zhuang-xie-zai-chuang-jian-shi-li-qi-dong-fu-wu-ke-shi-hua-gong-ju-lian-jie/" class="thumb hover-effect">
                      <span class="fullimage cover" style="display:block;border-radius:50%;background-image: url('/media/images/gridea.jpg');"></span>
                    </a>
                    <div class="info gradient-effect">
                      <time datetime="2021-07-26">2021-07-26</time>
                      <h4 class="title usmall">
                        <a href="https://hviker.github.io/post/dm8-an-zhuang-xie-zai-chuang-jian-shi-li-qi-dong-fu-wu-ke-shi-hua-gong-ju-lian-jie/">dm8安装、卸载、创建实例、启动服务、可视化工具连接</a>
                      </h4>
                    </div>
                    <div class="clear"></div>
                  </article>
                  
                  
                  
                  <article class="item post-2 post type-post status-publish format-standard has-post-thumbnail hentry">
                    <a href="https://hviker.github.io/post/echarts-tu-tian-jia-fen-ge-xian/" class="thumb hover-effect">
                      <span class="fullimage cover" style="display:block;border-radius:50%;background-image: url('/media/images/gridea.jpg');"></span>
                    </a>
                    <div class="info gradient-effect">
                      <time datetime="2021-07-14">2021-07-14</time>
                      <h4 class="title usmall">
                        <a href="https://hviker.github.io/post/echarts-tu-tian-jia-fen-ge-xian/">echarts图添加分割线</a>
                      </h4>
                    </div>
                    <div class="clear"></div>
                  </article>
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  <div class="clear"></div>
                </section>
              </div>

              <div class="grid-33 tablet-grid-50 mobile-grid-100">
                <section id="tag_cloud-2" class="widget widget_tag_cloud underline-effect">
                  <h4 class="widget-title title white bordered">标签云</h4>
                  <div class="tagcloud">
                    
                      <a href="https://hviker.github.io/tag/WtDIIxiyz/" class="ctag ctag-0 ctag-WtDIIxiyz" aria-label="">layui</a>
                    
                      <a href="https://hviker.github.io/tag/zSVOYgve1/" class="ctag ctag-1 ctag-zSVOYgve1" aria-label="">软件安装及使用</a>
                    
                      <a href="https://hviker.github.io/tag/z2AsGhmT2/" class="ctag ctag-2 ctag-z2AsGhmT2" aria-label="">echarts</a>
                    
                      <a href="https://hviker.github.io/tag/qian-duan/" class="ctag ctag-3 ctag-qian-duan" aria-label="">前端</a>
                    
                      <a href="https://hviker.github.io/tag/VFjcKMN5n/" class="ctag ctag-4 ctag-VFjcKMN5n" aria-label="">webpack</a>
                    
                      <a href="https://hviker.github.io/tag/L-6nzPhRV/" class="ctag ctag-5 ctag-L-6nzPhRV" aria-label="">Vue2.0</a>
                    
                      <a href="https://hviker.github.io/tag/GXfbDeMZV/" class="ctag ctag-6 ctag-GXfbDeMZV" aria-label="">vue</a>
                    
                      <a href="https://hviker.github.io/tag/j1qkahhB3/" class="ctag ctag-7 ctag-j1qkahhB3" aria-label="">CSS</a>
                    
                      <a href="https://hviker.github.io/tag/LDwpAxA3l/" class="ctag ctag-8 ctag-LDwpAxA3l" aria-label="">培训</a>
                    
                      <a href="https://hviker.github.io/tag/OK2iMRMG6/" class="ctag ctag-9 ctag-OK2iMRMG6" aria-label="">JS</a>
                    
                      <a href="https://hviker.github.io/tag/1ZVkdNUAB/" class="ctag ctag-10 ctag-1ZVkdNUAB" aria-label="">前端工程化</a>
                    
                      <a href="https://hviker.github.io/tag/sPs52aHLl/" class="ctag ctag-11 ctag-sPs52aHLl" aria-label="">源码学习</a>
                    
                      <a href="https://hviker.github.io/tag/Ugt1CeixF/" class="ctag ctag-12 ctag-Ugt1CeixF" aria-label="">elementUI2.0</a>
                    
                      <a href="https://hviker.github.io/tag/WeNhJHfo1/" class="ctag ctag-13 ctag-WeNhJHfo1" aria-label="">前端组件</a>
                    
                      <a href="https://hviker.github.io/tag/nHH9c42oQ/" class="ctag ctag-14 ctag-nHH9c42oQ" aria-label="">解决方法</a>
                    
                      <a href="https://hviker.github.io/tag/DIQF7868Q/" class="ctag ctag-15 ctag-DIQF7868Q" aria-label="">服务器</a>
                    
                      <a href="https://hviker.github.io/tag/uWbJmEwft/" class="ctag ctag-16 ctag-uWbJmEwft" aria-label="">D3</a>
                    
                      <a href="https://hviker.github.io/tag/37uX5bo02/" class="ctag ctag-17 ctag-37uX5bo02" aria-label="">Git</a>
                    
                      <a href="https://hviker.github.io/tag/rqmNkvREA/" class="ctag ctag-18 ctag-rqmNkvREA" aria-label="">后端</a>
                    
                      <a href="https://hviker.github.io/tag/idNHj5-gf/" class="ctag ctag-19 ctag-idNHj5-gf" aria-label="">Gridea</a>
                    
                  </div>
                  <div class="clear"></div>
                </section>
              </div>

              <div class="grid-33 tablet-grid-50 mobile-grid-100">
                <section id="epcl_about-2" class="widget widget_epcl_about underline-effect">
                  <h4 class="widget-title title white bordered">关于我</h4>
                  <div class="avatar">
                    <a href="" class="translate-effect thumb"><span class="fullimage cover" style="background-image: url(https://hviker.github.io/images/avatar.png);"></span></a>
                  </div>
                  <div class="info">
                    <h4 class="title small author-name gradient-effect no-margin"><a href="">hviker</a></h4>
                    <p class="founder">心游于艺，道不远人。</p>
                    <div class="social">
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                    </div> 
                  </div>
                  <div class="clear"></div>
                  </section>
              </div>

            </div>
            <div class="clear"></div>
        </div>

        <div class="logo">
          <a href="https://hviker.github.io"><img src="/media/images/custom-footerLogo.png" alt=""></a>
        </div>
        <p class="published border-effect">
          ©2019 共 70 篇文章
          <br/>
          Theme <a href="https://gridea.dev/" target="_blank">「breek」</a> Powered by <a href="https://gridea.dev/" target="_blank">「Gridea」</a>
        </p>
        
        <a href="javascript:void(0)" id="back-to-top" class="epcl-button dark" style="display:none">
          <i class="fa fa-arrow"></i>
        </a>
    </footer>
    
    <div class="clear"></div>

        

      
    <script src="https://hviker.github.io/media/js/functions-post.js"></script>

    </div>
    <!-- end: #wrapper -->
  </body>
</html>
